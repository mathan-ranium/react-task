{"ast":null,"code":"// src/features/auth/authThunks.js\nimport { createAsyncThunk } from '@reduxjs/toolkit';\nimport axios from 'axios';\nexport const loginUser = createAsyncThunk('auth/loginUser', async ({\n  email,\n  password\n}, thunkAPI) => {\n  try {\n    const controller = new AbortController();\n    const timeout = setTimeout(() => controller.abort(), 5000); // abort after 5 seconds\n\n    const response = await axios.post('https://reqres.in/api/login', {\n      email,\n      password\n    }, {\n      signal: controller.signal,\n      headers: {\n        \"x-api-key\": \"reqres-free-v1\"\n      }\n    });\n    clearTimeout(timeout);\n    localStorage.setItem(\"token\", response.data.token);\n    return response.data;\n  } catch (err) {\n    console.log(\"Caught error:\", err.message);\n    if (axios.isCancel(err)) {\n      console.log(\"Request was cancelled due to timeout.\");\n    } else if (err.response) {\n      console.log(\"Server responded with:\", err.response.data);\n      return thunkAPI.rejectWithValue(err.response.data.error);\n    } else {\n      console.log(\"Unexpected error:\", err);\n      return thunkAPI.rejectWithValue(\"Network error or request failed\");\n    }\n  }\n});","map":{"version":3,"names":["createAsyncThunk","axios","loginUser","email","password","thunkAPI","controller","AbortController","timeout","setTimeout","abort","response","post","signal","headers","clearTimeout","localStorage","setItem","data","token","err","console","log","message","isCancel","rejectWithValue","error"],"sources":["/Users/ranium/Documents/vue-app/react-task/src/features/auth/authThunks.js"],"sourcesContent":["// src/features/auth/authThunks.js\nimport { createAsyncThunk } from '@reduxjs/toolkit';\nimport axios from 'axios';\n\nexport const loginUser = createAsyncThunk(\n  'auth/loginUser',\n  async ({ email, password },thunkAPI) => {\n    try {\n  const controller = new AbortController();\n  const timeout = setTimeout(() => controller.abort(), 5000); // abort after 5 seconds\n\n  const response = await axios.post(\n    'https://reqres.in/api/login',\n    {\n      email,\n      password,\n    },\n    {\n      signal: controller.signal,headers:{\"x-api-key\":\"reqres-free-v1\"}\n    }\n  );\n\n  clearTimeout(timeout);\n  localStorage.setItem(\"token\",response.data.token);\n\n    return response.data;\n} catch (err) {\n  console.log(\"Caught error:\", err.message);\n  if (axios.isCancel(err)) {\n    console.log(\"Request was cancelled due to timeout.\");\n  } else if (err.response) {\n    console.log(\"Server responded with:\", err.response.data);\n    return thunkAPI.rejectWithValue(err.response.data.error);\n  } else {\n    console.log(\"Unexpected error:\", err);\n    return thunkAPI.rejectWithValue(\"Network error or request failed\");\n  }\n}\n\n  }\n);\n"],"mappings":"AAAA;AACA,SAASA,gBAAgB,QAAQ,kBAAkB;AACnD,OAAOC,KAAK,MAAM,OAAO;AAEzB,OAAO,MAAMC,SAAS,GAAGF,gBAAgB,CACvC,gBAAgB,EAChB,OAAO;EAAEG,KAAK;EAAEC;AAAS,CAAC,EAACC,QAAQ,KAAK;EACtC,IAAI;IACN,MAAMC,UAAU,GAAG,IAAIC,eAAe,CAAC,CAAC;IACxC,MAAMC,OAAO,GAAGC,UAAU,CAAC,MAAMH,UAAU,CAACI,KAAK,CAAC,CAAC,EAAE,IAAI,CAAC,CAAC,CAAC;;IAE5D,MAAMC,QAAQ,GAAG,MAAMV,KAAK,CAACW,IAAI,CAC/B,6BAA6B,EAC7B;MACET,KAAK;MACLC;IACF,CAAC,EACD;MACES,MAAM,EAAEP,UAAU,CAACO,MAAM;MAACC,OAAO,EAAC;QAAC,WAAW,EAAC;MAAgB;IACjE,CACF,CAAC;IAEDC,YAAY,CAACP,OAAO,CAAC;IACrBQ,YAAY,CAACC,OAAO,CAAC,OAAO,EAACN,QAAQ,CAACO,IAAI,CAACC,KAAK,CAAC;IAE/C,OAAOR,QAAQ,CAACO,IAAI;EACxB,CAAC,CAAC,OAAOE,GAAG,EAAE;IACZC,OAAO,CAACC,GAAG,CAAC,eAAe,EAAEF,GAAG,CAACG,OAAO,CAAC;IACzC,IAAItB,KAAK,CAACuB,QAAQ,CAACJ,GAAG,CAAC,EAAE;MACvBC,OAAO,CAACC,GAAG,CAAC,uCAAuC,CAAC;IACtD,CAAC,MAAM,IAAIF,GAAG,CAACT,QAAQ,EAAE;MACvBU,OAAO,CAACC,GAAG,CAAC,wBAAwB,EAAEF,GAAG,CAACT,QAAQ,CAACO,IAAI,CAAC;MACxD,OAAOb,QAAQ,CAACoB,eAAe,CAACL,GAAG,CAACT,QAAQ,CAACO,IAAI,CAACQ,KAAK,CAAC;IAC1D,CAAC,MAAM;MACLL,OAAO,CAACC,GAAG,CAAC,mBAAmB,EAAEF,GAAG,CAAC;MACrC,OAAOf,QAAQ,CAACoB,eAAe,CAAC,iCAAiC,CAAC;IACpE;EACF;AAEE,CACF,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}