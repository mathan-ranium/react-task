{"ast":null,"code":"// src/features/auth/authThunks.js\nimport { createAsyncThunk } from '@reduxjs/toolkit';\nimport axios from 'axios';\nexport const loginUser = createAsyncThunk('auth/loginUser', async ({\n  email,\n  password\n}, thunkAPI) => {\n  try {\n    console.log(\"Before axios call\");\n    const controller = new AbortController();\n    const timeout = setTimeout(() => controller.abort(), 5000); // abort after 5 seconds\n\n    const response = await axios.post('https://reqres.in/api/login', {\n      email,\n      password\n    }, {\n      signal: controller.signal,\n      headers: {\n        \"x-api-key\": \"reqres-free-v1\"\n      }\n    });\n    clearTimeout(timeout);\n    console.log(\"After axios call\", response.data);\n    localStorage.setItem(\"token\", response.data.token);\n    return response.data;\n  } catch (err) {\n    console.log(\"Caught error:\", err.message);\n    if (axios.isCancel(err)) {\n      console.log(\"Request was cancelled due to timeout.\");\n    } else if (err.response) {\n      console.log(\"Server responded with:\", err.response.data);\n      return thunkAPI.rejectWithValue(err.response.data.error);\n    } else {\n      console.log(\"Unexpected error:\", err);\n      return thunkAPI.rejectWithValue(\"Network error or request failed\");\n    }\n  }\n});","map":{"version":3,"names":["createAsyncThunk","axios","loginUser","email","password","thunkAPI","console","log","controller","AbortController","timeout","setTimeout","abort","response","post","signal","headers","clearTimeout","data","localStorage","setItem","token","err","message","isCancel","rejectWithValue","error"],"sources":["/Users/ranium/Documents/vue-app/react-task/src/features/auth/authThunks.js"],"sourcesContent":["// src/features/auth/authThunks.js\nimport { createAsyncThunk } from '@reduxjs/toolkit';\nimport axios from 'axios';\n\nexport const loginUser = createAsyncThunk(\n  'auth/loginUser',\n  async ({ email, password },thunkAPI) => {\n    try {\n  console.log(\"Before axios call\");\n\n  const controller = new AbortController();\n  const timeout = setTimeout(() => controller.abort(), 5000); // abort after 5 seconds\n\n  const response = await axios.post(\n    'https://reqres.in/api/login',\n    {\n      email,\n      password,\n    },\n    {\n      signal: controller.signal,headers:{\"x-api-key\":\"reqres-free-v1\"}\n    }\n  );\n\n  clearTimeout(timeout);\n\n  console.log(\"After axios call\", response.data);\n          localStorage.setItem(\"token\",response.data.token);\n\n    return response.data;\n} catch (err) {\n  console.log(\"Caught error:\", err.message);\n  if (axios.isCancel(err)) {\n    console.log(\"Request was cancelled due to timeout.\");\n  } else if (err.response) {\n    console.log(\"Server responded with:\", err.response.data);\n    return thunkAPI.rejectWithValue(err.response.data.error);\n  } else {\n    console.log(\"Unexpected error:\", err);\n    return thunkAPI.rejectWithValue(\"Network error or request failed\");\n  }\n}\n\n  }\n);\n"],"mappings":"AAAA;AACA,SAASA,gBAAgB,QAAQ,kBAAkB;AACnD,OAAOC,KAAK,MAAM,OAAO;AAEzB,OAAO,MAAMC,SAAS,GAAGF,gBAAgB,CACvC,gBAAgB,EAChB,OAAO;EAAEG,KAAK;EAAEC;AAAS,CAAC,EAACC,QAAQ,KAAK;EACtC,IAAI;IACNC,OAAO,CAACC,GAAG,CAAC,mBAAmB,CAAC;IAEhC,MAAMC,UAAU,GAAG,IAAIC,eAAe,CAAC,CAAC;IACxC,MAAMC,OAAO,GAAGC,UAAU,CAAC,MAAMH,UAAU,CAACI,KAAK,CAAC,CAAC,EAAE,IAAI,CAAC,CAAC,CAAC;;IAE5D,MAAMC,QAAQ,GAAG,MAAMZ,KAAK,CAACa,IAAI,CAC/B,6BAA6B,EAC7B;MACEX,KAAK;MACLC;IACF,CAAC,EACD;MACEW,MAAM,EAAEP,UAAU,CAACO,MAAM;MAACC,OAAO,EAAC;QAAC,WAAW,EAAC;MAAgB;IACjE,CACF,CAAC;IAEDC,YAAY,CAACP,OAAO,CAAC;IAErBJ,OAAO,CAACC,GAAG,CAAC,kBAAkB,EAAEM,QAAQ,CAACK,IAAI,CAAC;IACtCC,YAAY,CAACC,OAAO,CAAC,OAAO,EAACP,QAAQ,CAACK,IAAI,CAACG,KAAK,CAAC;IAEvD,OAAOR,QAAQ,CAACK,IAAI;EACxB,CAAC,CAAC,OAAOI,GAAG,EAAE;IACZhB,OAAO,CAACC,GAAG,CAAC,eAAe,EAAEe,GAAG,CAACC,OAAO,CAAC;IACzC,IAAItB,KAAK,CAACuB,QAAQ,CAACF,GAAG,CAAC,EAAE;MACvBhB,OAAO,CAACC,GAAG,CAAC,uCAAuC,CAAC;IACtD,CAAC,MAAM,IAAIe,GAAG,CAACT,QAAQ,EAAE;MACvBP,OAAO,CAACC,GAAG,CAAC,wBAAwB,EAAEe,GAAG,CAACT,QAAQ,CAACK,IAAI,CAAC;MACxD,OAAOb,QAAQ,CAACoB,eAAe,CAACH,GAAG,CAACT,QAAQ,CAACK,IAAI,CAACQ,KAAK,CAAC;IAC1D,CAAC,MAAM;MACLpB,OAAO,CAACC,GAAG,CAAC,mBAAmB,EAAEe,GAAG,CAAC;MACrC,OAAOjB,QAAQ,CAACoB,eAAe,CAAC,iCAAiC,CAAC;IACpE;EACF;AAEE,CACF,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}