{"ast":null,"code":"var _s = $RefreshSig$();\nimport { useDispatch, useSelector } from 'react-redux';\nimport { getusers, createUser, editUser, removeUser } from '../features/users/userThunks';\nimport { toast } from 'react-toastify';\nimport { useEffect } from 'react';\nexport const useUsers = () => {\n  _s();\n  const dispatch = useDispatch();\n  const {\n    users,\n    loading,\n    error\n  } = useSelector(state => state.userSlice);\n  useEffect(() => {\n    dispatch(getusers());\n  }, [dispatch]);\n  const saveUser = async (data, isEdit = false, id = null) => {\n    try {\n      if (isEdit) {\n        await dispatch(editUser({\n          id,\n          ...data\n        })).unwrap();\n        toast.success(\"User updated successfully\");\n      } else {\n        await dispatch(createUser(data)).unwrap();\n        toast.success(\"User created successfully\");\n      }\n    } catch {\n      toast.error(`Failed to ${isEdit ? 'update' : 'create'} user`);\n    } finally {\n      dispatch(getusers());\n    }\n  };\n  const deleteUser = async id => {\n    try {\n      await dispatch(removeUser(id)).unwrap();\n      toast.success(\"User deleted successfully\");\n      dispatch(getusers());\n    } catch {\n      toast.error(\"Failed to delete user\");\n    }\n  };\n  return {\n    users,\n    loading,\n    error,\n    saveUser,\n    deleteUser\n  };\n};\n_s(useUsers, \"iPh8OznB/keIwwkQjP9x50Xsfvs=\", false, function () {\n  return [useDispatch, useSelector];\n});","map":{"version":3,"names":["useDispatch","useSelector","getusers","createUser","editUser","removeUser","toast","useEffect","useUsers","_s","dispatch","users","loading","error","state","userSlice","saveUser","data","isEdit","id","unwrap","success","deleteUser"],"sources":["/Users/ranium/Documents/vue-app/react-task/src/hooks/useUsers.js"],"sourcesContent":["import { useDispatch, useSelector } from 'react-redux';\nimport { getusers, createUser, editUser, removeUser } from '../features/users/userThunks';\nimport { toast } from 'react-toastify';\nimport { useEffect } from 'react';\n\nexport const useUsers = () => {\n    const dispatch = useDispatch();\n    const { users, loading, error } = useSelector(state => state.userSlice);\n\n    useEffect(() => {\n        dispatch(getusers());\n    }, [dispatch]);\n\n    const saveUser = async (data, isEdit = false, id = null) => {\n        try {\n            if (isEdit) {\n                await dispatch(editUser({ id, ...data })).unwrap();\n                toast.success(\"User updated successfully\");\n            } else {\n                await dispatch(createUser(data)).unwrap();\n                toast.success(\"User created successfully\");\n            }\n        } catch {\n            toast.error(`Failed to ${isEdit ? 'update' : 'create'} user`);\n        } finally {\n            dispatch(getusers());\n        }\n    };\n\n    const deleteUser = async (id) => {\n        try {\n            await dispatch(removeUser(id)).unwrap();\n            toast.success(\"User deleted successfully\");\n            dispatch(getusers());\n        } catch {\n            toast.error(\"Failed to delete user\");\n        }\n    };\n\n    return { users, loading, error, saveUser, deleteUser };\n};\n"],"mappings":";AAAA,SAASA,WAAW,EAAEC,WAAW,QAAQ,aAAa;AACtD,SAASC,QAAQ,EAAEC,UAAU,EAAEC,QAAQ,EAAEC,UAAU,QAAQ,8BAA8B;AACzF,SAASC,KAAK,QAAQ,gBAAgB;AACtC,SAASC,SAAS,QAAQ,OAAO;AAEjC,OAAO,MAAMC,QAAQ,GAAGA,CAAA,KAAM;EAAAC,EAAA;EAC1B,MAAMC,QAAQ,GAAGV,WAAW,CAAC,CAAC;EAC9B,MAAM;IAAEW,KAAK;IAAEC,OAAO;IAAEC;EAAM,CAAC,GAAGZ,WAAW,CAACa,KAAK,IAAIA,KAAK,CAACC,SAAS,CAAC;EAEvER,SAAS,CAAC,MAAM;IACZG,QAAQ,CAACR,QAAQ,CAAC,CAAC,CAAC;EACxB,CAAC,EAAE,CAACQ,QAAQ,CAAC,CAAC;EAEd,MAAMM,QAAQ,GAAG,MAAAA,CAAOC,IAAI,EAAEC,MAAM,GAAG,KAAK,EAAEC,EAAE,GAAG,IAAI,KAAK;IACxD,IAAI;MACA,IAAID,MAAM,EAAE;QACR,MAAMR,QAAQ,CAACN,QAAQ,CAAC;UAAEe,EAAE;UAAE,GAAGF;QAAK,CAAC,CAAC,CAAC,CAACG,MAAM,CAAC,CAAC;QAClDd,KAAK,CAACe,OAAO,CAAC,2BAA2B,CAAC;MAC9C,CAAC,MAAM;QACH,MAAMX,QAAQ,CAACP,UAAU,CAACc,IAAI,CAAC,CAAC,CAACG,MAAM,CAAC,CAAC;QACzCd,KAAK,CAACe,OAAO,CAAC,2BAA2B,CAAC;MAC9C;IACJ,CAAC,CAAC,MAAM;MACJf,KAAK,CAACO,KAAK,CAAC,aAAaK,MAAM,GAAG,QAAQ,GAAG,QAAQ,OAAO,CAAC;IACjE,CAAC,SAAS;MACNR,QAAQ,CAACR,QAAQ,CAAC,CAAC,CAAC;IACxB;EACJ,CAAC;EAED,MAAMoB,UAAU,GAAG,MAAOH,EAAE,IAAK;IAC7B,IAAI;MACA,MAAMT,QAAQ,CAACL,UAAU,CAACc,EAAE,CAAC,CAAC,CAACC,MAAM,CAAC,CAAC;MACvCd,KAAK,CAACe,OAAO,CAAC,2BAA2B,CAAC;MAC1CX,QAAQ,CAACR,QAAQ,CAAC,CAAC,CAAC;IACxB,CAAC,CAAC,MAAM;MACJI,KAAK,CAACO,KAAK,CAAC,uBAAuB,CAAC;IACxC;EACJ,CAAC;EAED,OAAO;IAAEF,KAAK;IAAEC,OAAO;IAAEC,KAAK;IAAEG,QAAQ;IAAEM;EAAW,CAAC;AAC1D,CAAC;AAACb,EAAA,CAnCWD,QAAQ;EAAA,QACAR,WAAW,EACMC,WAAW;AAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}