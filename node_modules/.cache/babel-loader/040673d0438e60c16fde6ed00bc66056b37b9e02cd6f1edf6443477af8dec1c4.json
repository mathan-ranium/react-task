{"ast":null,"code":"// src/features/auth/authThunks.js\nimport { createAsyncThunk } from '@reduxjs/toolkit';\nimport axios from 'axios';\nexport const loginUser = createAsyncThunk('auth/loginUser', async ({\n  email,\n  password\n}, thunkAPI) => {\n  try {\n    console.log(\"Before axios call\");\n    const controller = new AbortController();\n    const timeout = setTimeout(() => controller.abort(), 5000); // abort after 5 seconds\n\n    const response = await axios.post('https://reqres.in/api/login', {\n      email,\n      password\n    }, {\n      signal: controller.signal\n    });\n    clearTimeout(timeout);\n    console.log(\"After axios call\", response.data);\n    return response.data;\n  } catch (err) {\n    console.log(\"Caught error:\", err.message);\n    if (axios.isCancel(err)) {\n      console.log(\"Request was cancelled due to timeout.\");\n    } else if (err.response) {\n      console.log(\"Server responded with:\", err.response.data);\n      return thunkAPI.rejectWithValue(err.response.data.error);\n    } else {\n      console.log(\"Unexpected error:\", err);\n      return thunkAPI.rejectWithValue(\"Network error or request failed\");\n    }\n  }\n});","map":{"version":3,"names":["createAsyncThunk","axios","loginUser","email","password","thunkAPI","console","log","controller","AbortController","timeout","setTimeout","abort","response","post","signal","clearTimeout","data","err","message","isCancel","rejectWithValue","error"],"sources":["/Users/ranium/Documents/vue-app/react-task/src/features/auth/authThunks.js"],"sourcesContent":["// src/features/auth/authThunks.js\nimport { createAsyncThunk } from '@reduxjs/toolkit';\nimport axios from 'axios';\n\nexport const loginUser = createAsyncThunk(\n  'auth/loginUser',\n  async ({ email, password }, thunkAPI) => {\n    try {\n  console.log(\"Before axios call\");\n\n  const controller = new AbortController();\n  const timeout = setTimeout(() => controller.abort(), 5000); // abort after 5 seconds\n\n  const response = await axios.post(\n    'https://reqres.in/api/login',\n    {\n      email,\n      password,\n    },\n    {\n      signal: controller.signal,\n    }\n  );\n\n  clearTimeout(timeout);\n\n  console.log(\"After axios call\", response.data);\n  return response.data;\n} catch (err) {\n  console.log(\"Caught error:\", err.message);\n  if (axios.isCancel(err)) {\n    console.log(\"Request was cancelled due to timeout.\");\n  } else if (err.response) {\n    console.log(\"Server responded with:\", err.response.data);\n    return thunkAPI.rejectWithValue(err.response.data.error);\n  } else {\n    console.log(\"Unexpected error:\", err);\n    return thunkAPI.rejectWithValue(\"Network error or request failed\");\n  }\n}\n\n  }\n);\n"],"mappings":"AAAA;AACA,SAASA,gBAAgB,QAAQ,kBAAkB;AACnD,OAAOC,KAAK,MAAM,OAAO;AAEzB,OAAO,MAAMC,SAAS,GAAGF,gBAAgB,CACvC,gBAAgB,EAChB,OAAO;EAAEG,KAAK;EAAEC;AAAS,CAAC,EAAEC,QAAQ,KAAK;EACvC,IAAI;IACNC,OAAO,CAACC,GAAG,CAAC,mBAAmB,CAAC;IAEhC,MAAMC,UAAU,GAAG,IAAIC,eAAe,CAAC,CAAC;IACxC,MAAMC,OAAO,GAAGC,UAAU,CAAC,MAAMH,UAAU,CAACI,KAAK,CAAC,CAAC,EAAE,IAAI,CAAC,CAAC,CAAC;;IAE5D,MAAMC,QAAQ,GAAG,MAAMZ,KAAK,CAACa,IAAI,CAC/B,6BAA6B,EAC7B;MACEX,KAAK;MACLC;IACF,CAAC,EACD;MACEW,MAAM,EAAEP,UAAU,CAACO;IACrB,CACF,CAAC;IAEDC,YAAY,CAACN,OAAO,CAAC;IAErBJ,OAAO,CAACC,GAAG,CAAC,kBAAkB,EAAEM,QAAQ,CAACI,IAAI,CAAC;IAC9C,OAAOJ,QAAQ,CAACI,IAAI;EACtB,CAAC,CAAC,OAAOC,GAAG,EAAE;IACZZ,OAAO,CAACC,GAAG,CAAC,eAAe,EAAEW,GAAG,CAACC,OAAO,CAAC;IACzC,IAAIlB,KAAK,CAACmB,QAAQ,CAACF,GAAG,CAAC,EAAE;MACvBZ,OAAO,CAACC,GAAG,CAAC,uCAAuC,CAAC;IACtD,CAAC,MAAM,IAAIW,GAAG,CAACL,QAAQ,EAAE;MACvBP,OAAO,CAACC,GAAG,CAAC,wBAAwB,EAAEW,GAAG,CAACL,QAAQ,CAACI,IAAI,CAAC;MACxD,OAAOZ,QAAQ,CAACgB,eAAe,CAACH,GAAG,CAACL,QAAQ,CAACI,IAAI,CAACK,KAAK,CAAC;IAC1D,CAAC,MAAM;MACLhB,OAAO,CAACC,GAAG,CAAC,mBAAmB,EAAEW,GAAG,CAAC;MACrC,OAAOb,QAAQ,CAACgB,eAAe,CAAC,iCAAiC,CAAC;IACpE;EACF;AAEE,CACF,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}